<div  style="display: flex; justify-content: space-between;margin: 32px 24px;">
    <h2>Vos Questions :</h2>
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIKVs1ZFllpEtNJnhALtCg6tDWMZs2-qq02A&usqp=CAU" alt="" class="rounded-circle avatar-lg img-thumbnail ">


    </div>


    <div class="containers mt-5">

    <div class="card">
        <div class="card-body p-0">
            <ul class="nav nav-tabs nav-bordered">
                <li class="nav-item">
                    <a href="#newpost" data-bs-toggle="tab" aria-expanded="false" class="nav-link active px-3 py-2">
                        <i class="mdi mdi-pencil-box-multiple font-18 d-md-none d-block"></i>
                        <span class="d-none d-md-block">Nouveau Poste</span>
                    </a>
                </li>


            </ul> <!-- end nav-->



            <div class="tab-content">
                <label  class="tab-pane show active p-3">Titre</label>
                <div class="tab-pane show active p-3">
                    <input [(ngModel)]="question.title" type="text" class="form-control border-0 resize-none"  placeholder="Titre">
                </div>
                <div class="tab-pane show active p-3" id="newpost">

                    <!-- comment box -->
                    <div class="border rounded">

                        <div class="comment-area-box">
                            <textarea  [(ngModel)]="question.description" rows="4" class="form-control border-0 resize-none" placeholder="Write something...."></textarea>
                            <div class="p-2 bg-light d-flex justify-content-between align-items-center">
                                <div>
                                    <a href="#" class="btn btn-sm px-2 font-16 btn-light"><i class="uil uil-scenery"></i></a>
                                    <a href="#" class="btn btn-sm px-2 font-16 btn-light"><i class="uil uil-location"></i></a>
                                    <a href="#" class="btn btn-sm px-2 font-16 btn-light"><i class="uil uil-paperclip"></i></a>
                                </div>
                                <button (click)="ajout()" class="btn btn-sm btn-success"><i class='uil uil-message me-1'></i>ajouter</button>
                            </div>
                        </div>
                    </div> <!-- end .border-->
                    <!-- end comment box -->
                </div> <!-- end preview-->
            </div> <!-- end tab-content-->
        </div>
    </div>
    <div class="card" >
        <div class="card-body pb-1"  *ngFor="let l of list">
            <div class="d-flex">
                <img class="me-2 rounded" *ngIf="l.etudiant.length > 0" [src]="endpoint.url+'getimageetudiant/' + l.etudiant[0].image " alt="Generic placeholder image" height="32">
                <img class="me-2 rounded" *ngIf="l.formateur.length > 0" [src]="endpoint.url+'getimageformateur/' + l.formateur[0].image " alt="Generic placeholder image" height="32">

                <div class="w-100">
                    <div class="dropdown float-end text-muted">
                        <a href="#" class="dropdown-toggle arrow-none card-drop"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="mdi mdi-dots-horizontal"></i>
                        </a>
                  
                    </div>
                    <h5 class="m-0"> {{  l.etudiant.length > 0 ? l.etudiant[0].name + ' '+ l.etudiant[0].lastname :  l.formateur[0].name + ' '+ l.formateur[0].lastname  }}  </h5>

                </div>
            </div>

            <hr class="m-0" />

            <div class="font-16  text-dark my-3">
                {{ l.title }}
                <br>
                {{l.description}}
            </div>

            <hr class="m-0" />

            <div class="my-1">

                <a href="javascript: void(0);" class="btn btn-sm btn-link text-muted"><i class='uil uil-comments-alt'>  {{l.reponse.length}} reponses</i> </a>

            </div>

            <hr class="m-0" />

            <ng-container *ngIf=" l.reponse.length > 0 && l.reponse[0].text ">
                <div class="mt-3" *ngFor=" let r of l.reponse">
                    <div class="d-flex">
                        <img class="me-2 rounded" *ngIf="r.etudiant.length > 0" [src]="endpoint.url+'getimageetudiant/' + r.etudiant[0].image " alt="Generic placeholder image" height="32">
                        <img class="me-2 rounded" *ngIf="r.formateur.length > 0" [src]="endpoint.url+'getimageformateur/'+ r.formateur[0].image " alt="Generic placeholder image" height="32">

                        <div>
                            <h5 class="m-0"> {{  r.etudiant.length > 0 ? r.etudiant[0]?.name + ' '+ r.etudiant[0]?.lastname :  r.formateur[0]?.name + ' '+ r.formateur[0]?.lastname  }} </h5>
                            <p class="text-muted mb-0"><small>{{r.date | date}}</small></p>

                            <p class="my-1">{{r.text}}</p>


                        </div> <!-- end div -->
                    </div> <!-- end d-flex-->

                    <hr/>


                </div>
            </ng-container>

            <div class="mt-3" >
              <div class="d-flex">
                  <!-- <img class="me-2 rounded" *ngIf="etudiant.length > 0" [src]="endpoint.url+'getimageetudiant/' + etudiant[0].image "  height="32" class="align-self-start rounded me-2" alt="Arya Stark">
                  <img class="me-2 rounded" *ngIf="formateur.length > 0" [src]="endpoint.url+'getimageformateur/'+ formateur[0].image " height="32" class="align-self-start rounded me-2" alt="Arya Stark">
 -->


                <div class="w-100">
                    <input type="text" [(ngModel)]="reponse.text" class="form-control border-0 form-control-sm" placeholder="Write a comment" >

                </div>
                 <!-- end w-100 --><i class='uil uil-message me-1' (click)="ajoutreponse(l._id)"  ></i>
            </div> <!-- end d-flex -->

        </div> <!-- end card-body -->
     </div>
    </div>
